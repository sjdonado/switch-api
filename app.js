!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=require("express")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),a=s(r(2)),u=s(r(3)),o=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)();i.use((0,a.default)()),i.use(n.default.json()),i.use("/api/v1",u.default),i.use((0,o.default)()),i.use(function(e,t,r,n){r.status(400).json({error:e.message})}),t.default=i},function(e,t){e.exports=require("cors")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(4)),a=s(r(5)),u=r(0),o=(s(u),s(r(6)));function s(e){return e&&e.__esModule?e:{default:e}}o.default.initializeApp({credential:o.default.credential.applicationDefault()});var i=o.default.firestore(),c=(0,u.Router)();c.get("/users",function(){var e=(0,a.default)(n.default.mark(function e(t,r,a){var u,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DB",i),e.prev=1,e.next=4,i.collection("users").get();case 4:u=e.sent,console.log("USERS_SNAPSHOT",u),o=[],usersnapshot.forEach(function(e){o.push({id:e.id,data:e.data()})}),r.json(o),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),a(e.t0);case 15:case"end":return e.stop()}},e,void 0,[[1,11]])}));return function(t,r,n){return e.apply(this,arguments)}}()),c.get("/users/:id",function(){var e=(0,a.default)(n.default.mark(function e(t,r,a){var u,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=t.params.id){e.next=4;break}throw new Error("id is blank");case 4:return e.next=6,i.collection("users").doc(u).get();case 6:if((o=e.sent).exists){e.next=9;break}throw new Error("note does not exists");case 9:r.json({id:o.id,data:o.data()}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a(e.t0);case 15:case"end":return e.stop()}},e,void 0,[[0,12]])}));return function(t,r,n){return e.apply(this,arguments)}}()),c.post("/users/",function(){var e=(0,a.default)(n.default.mark(function e(t,r,a){var u,o,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=t.body.text){e.next=4;break}throw new Error("Text is blank");case 4:return o={text:u},e.next=7,i.collection("users").add(o);case 7:s=e.sent,r.json({id:s.id,data:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a(e.t0);case 14:case"end":return e.stop()}},e,void 0,[[0,11]])}));return function(t,r,n){return e.apply(this,arguments)}}()),c.put("/users/:id",function(){var e=(0,a.default)(n.default.mark(function e(t,r,a){var u,o,s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=t.params.id,o=t.body.text,u){e.next=5;break}throw new Error("id is blank");case 5:if(o){e.next=7;break}throw new Error("Text is blank");case 7:return s={text:o},e.next=10,i.collection("users").doc(u).set(s,{merge:!0});case 10:e.sent,r.json({id:u,data:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a(e.t0);case 17:case"end":return e.stop()}},e,void 0,[[0,14]])}));return function(t,r,n){return e.apply(this,arguments)}}()),c.delete("/users/:id",function(){var e=(0,a.default)(n.default.mark(function e(t,r,a){var u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=t.params.id){e.next=4;break}throw new Error("id is blank");case 4:return e.next=6,i.collection("users").doc(u).delete();case 6:r.json({id:u}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(e.t0);case 12:case"end":return e.stop()}},e,void 0,[[0,9]])}));return function(t,r,n){return e.apply(this,arguments)}}()),t.default=c},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("firebase-admin")},function(e,t){e.exports=require("method-override")}]);